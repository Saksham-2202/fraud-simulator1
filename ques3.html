<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fraud Simulation - Step 1</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="name">
       <h1 id="heading"> GLOBAL REWARD CENTER</h1><br><br>
        <div class="timer-container">
        <p id="timer">⏳ Time left: <span id="countdown">30</span> seconds</p>
        </div>
        <script>
        // ✅ Reset the timer if user comes back to homepage
        localStorage.setItem("timerStart", Date.now());
       </script>

    </div>
    <div class="container">
        <div class="card">

            <h1>Limited Time Offer!</h1>
            <p id="mess">You’ve just won a brand-new iPhone 15 in our nationwide lucky draw contest. To receive your phone, we only need your delivery address and a small processing fee. Would you like to continue and provide the required details?</p>
            <p>Click "Yes" to claim your prize or "No" to ignore this message.</p>
            <div class="button-group">
                <button onclick="handleYes()" class="btn_green">Yes</button>
                <button class="btn_red" onclick="alert('Great! You successfully avoided a potential fraud.')">No</button>
            </div>
            <!-- Loader (initially hidden) -->
            <div id="loader" class="loader" style="display: none;"></div>
        </div>
    </div>

    <script>// Show loader, then show next content
        function handleYes() {
    // Start timer on Yes click
    localStorage.setItem("timerStart", Date.now());

    document.querySelectorAll("button").forEach(btn => btn.style.display = 'none');
    document.getElementById("loader").style.display = 'block';

    setTimeout(() => {
    window.location.href = "payment_page.html";
        }, 2000);
    }

    function goToNextPage() {
    document.body.classList.add('fade-out');
    setTimeout(() => {
    window.location.href = 'payment_page.html'; // Replace with your actual page
    }, 500); // Match this to the animation duration (0.5s)
    }


    const totalTime = 30; // total seconds
    const timerElement = document.getElementById("countdown");

    function initTimer() {
        const startTime = parseInt(localStorage.getItem("timerStart"));

    function updateTimer() {
      const now = Date.now();
      const elapsed = Math.floor((now - startTime) / 1000);
      const remaining = totalTime - elapsed;

    if (remaining < 0) {
        clearInterval(interval);
        window.location.href = "timeout.html";
    } else {
        timerElement.textContent = remaining;
      }
    }

    updateTimer();
    const interval = setInterval(updateTimer, 1000);
    }

    initTimer();



    </script>


</body>
</html>
